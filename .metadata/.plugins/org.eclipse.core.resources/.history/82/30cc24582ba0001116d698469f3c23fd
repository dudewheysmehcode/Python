'''
Created on May 17, 2012

@author: qa z600
'''
from PRG import WeakPrng, P
#from common import setup_signals

Sequence = [210205973, 22795300, 58776750, 121262470, 140842553, 242590528, 195244728, 86752752]
progress = {}

class SeedPrng(WeakPrng):
    def __init__(self, x, y, p):
        self.p = p
        self.x = x
        self.y = y

if __name__ == '__main__':
E    setup_signals(progress)
    for x in xrange(P):
        if not (x % 10**5):
E            progress.update({'completed': float(x)/P})
        y = Sequence[0] ^ x
        initial = SeedPrng(x,y,P)
        for random_num in Sequence[1:]:
            if initial.next() != random_num:
                break
        else:
            print initial.next()
            break